%TEMPLATE_COMMENTS
\nonstopmode
\documentclass[10pt,letterpaper]{article}
\usepackage[top=1in,left=1in,right=1in,bottom=1in]{geometry}

% long tables
\usepackage{longtable}

% amsmath and amssymb packages, useful for mathematical formulas and symbols
\usepackage{amsmath,amssymb, mathtools}
\newcommand{\one}[1]{\mathop{{}\mathbf{1}}\nolimits_{#1}}

% textcomp package and marvosym package for additional characters
\usepackage{textcomp,marvosym}

% array package and thick rules for tables
\usepackage{array}

% create "+" rule type for thick vertical lines
\newcolumntype{+}{!{\vrule width 2pt}}

% create \thickcline for thick horizontal lines of variable length
\newlength\savedwidth
\newcommand\thickcline[1]{%
  \noalign{\global\savedwidth\arrayrulewidth\global\arrayrulewidth 2pt}%
  \cline{#1}%
  \noalign{\vskip\arrayrulewidth}%
  \noalign{\global\arrayrulewidth\savedwidth}%
}

% \thickhline command for thick horizontal lines that span the table
\newcommand\thickhline{\noalign{\global\savedwidth\arrayrulewidth\global\arrayrulewidth 2pt}%
\hline
\noalign{\global\arrayrulewidth\savedwidth}}



\usepackage{datatool}
\DTLsetseparator{,}% Set the separator between the columns.
% todo add statistics file directly into this document
\DTLloaddbtex{\mydata}{../../output/statistics.dbtex}
\newcommand{\var}[1]{\DTLfetch{\mydata}{labels}{#1}{vals}}


\begin{document}
\begin{table}[hbp!]
%\begin{adjustwidth}{-2.25in}{0in} % Comment out/remove adjustwidth environment if table fits in text column.
\centering
\begin{tabular}[t]{|l|c|c|c|c|c|}
\hline
Parameter & Prior & Median (95\% HPD) & Bulk ESS & Tail ESS & $\hat{R}$ \\ \thickhline
$\alpha_0$ & Normal(0,$2^2$) &
  \var{empirical_age_sex_comm_fit_logit_prob_seq_baseline_median} 
    (\var{empirical_age_sex_comm_fit_logit_prob_seq_baseline_lower}, \var{empirical_age_sex_comm_fit_logit_prob_seq_baseline_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_baseline_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_baseline_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_baseline_rhat} \\ \hline
$\alpha_1$ (amplicon) & $2\times\text{stz-MVN}_1(0,1)$ &
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs1_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs1_lower}, \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs1_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs1_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs1_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs1_rhat} \\ \hline
$\alpha_2$ (bait-capture) & $2\times\text{stz-MVN}_1(0,1)$ &
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs2_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs2_lower}, \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs2_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs2_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs2_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs2_rhat} \\ \hline
$\alpha_3$ (log$_{10}$ copies/mL) & Normal(0,$2^2$) &
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs3_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs3_lower}, \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs3_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs3_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs3_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs3_rhat} \\ \hline
$\alpha_4$ (amplicon $\times$ log$_{10}$ copies/mL) & $2\times\text{stz-MVN}_2(0,1)$ &
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs4_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs4_lower}, \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs4_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs4_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs4_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs4_rhat} \\ \hline
$\alpha_5$ (bait-capture $\times$ log$_{10}$ copies/mL) & $2\times\text{stz-MVN}_2(0,1)$ &
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs5_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs5_lower}, \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs5_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs5_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs5_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_coeffs5_rhat} \\ \hline
$\sigma_{ind}$ & Half-Cauchy(0,1) & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_ind_sd_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_seq_ind_sd_lower}, \var{empirical_age_sex_comm_fit_logit_prob_seq_ind_sd_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_ind_sd_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_seq_ind_sd_tail_ess} &
  \var{empirical_age_sex_comm_fit_logit_prob_seq_ind_sd_rhat} \\ \hline
$\delta_0$ & Normal(0,$3.16^2$) &
  \var{empirical_age_sex_comm_fit_logit_prob_mi_baseline_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_mi_baseline_lower}, \var{empirical_age_sex_comm_fit_logit_prob_mi_baseline_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_baseline_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_baseline_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_baseline_rhat} \\ \hline
$\beta_1$ ((14,24] years) & $\text{stz-MVN}_3(0,1)$ &  
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs1_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs1_lower}, \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs1_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs1_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs1_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs1_rhat} \\ \hline
$\beta_2$ ((24,34] years) &$\text{stz-MVN}_3(0,1)$ &  
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs2_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs2_lower}, \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs2_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs2_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs2_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs2_rhat} \\ \hline
$\beta_3$ ((34,49] years)) & $\text{stz-MVN}_3(0,1)$&  
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs2_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs2_lower}, \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs2_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs2_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs2_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs2_rhat} \\ \hline
$\beta_4$ (women) & $\text{stz-MVN}_4(0,1)$ &  
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs4_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs4_lower}, \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs4_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs4_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs4_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs4_rhat} \\ \hline
  $\beta_5$ (men) & $\text{stz-MVN}_4(0,1)$ &  
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs5_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs5_lower}, \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs5_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs5_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs5_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs5_rhat} \\ \hline
$\beta_6$ (fishing) & $\text{stz-MVN}_5(0,1)$ &  
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs6_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs6_lower}, \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs6_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs6_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs6_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs6_rhat} \\ \hline

$\beta_7$ (inland) & $\text{stz-MVN}_5(0,1)$ &  
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs7_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs7_lower}, \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs7_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs7_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs7_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_coeffs7_rhat} \\ \hline
logit($\lambda$) & Normal(0,1)[,2.2] & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_fnr_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_mi_fnr_lower}, \var{empirical_age_sex_comm_fit_logit_prob_mi_fnr_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_fnr_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_fnr_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_fnr_rhat} \\ \hline
logit($\epsilon$) & Normal(0,1) & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_fpr_median}
    (\var{empirical_age_sex_comm_fit_logit_prob_mi_fpr_lower}, \var{empirical_age_sex_comm_fit_logit_prob_mi_fpr_upper}) & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_fpr_bulk_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_fpr_tail_ess} & 
  \var{empirical_age_sex_comm_fit_logit_prob_mi_fpr_rhat} \\ \hline
\end{tabular}
\begin{flushleft} {\bf Parameter estimates for full model fit to deep-sequence data from \var{empirical_age_sex_comm_n_participant_visits} RCCS participants living with viremic HIV with age, sex, and community type as putative risk factors for harboring multiple infections} ESS = effective sample size. HPD = highest posterior density. stz-MVN = sum-to-zero multivariate Normal distribution. 
\end{flushleft}
%\end{adjustwidth}
\end{table}
\end{document}