%TEMPLATE_COMMENTS
\nonstopmode
\documentclass[10pt,letterpaper]{article}
\usepackage[top=1in,left=1in,right=1in,bottom=1in]{geometry}

% long tables
\usepackage{longtable}

% amsmath and amssymb packages, useful for mathematical formulas and symbols
\usepackage{amsmath,amssymb, mathtools}
\newcommand{\one}[1]{\mathop{{}\mathbf{1}}\nolimits_{#1}}

% textcomp package and marvosym package for additional characters
\usepackage{textcomp,marvosym}

% array package and thick rules for tables
\usepackage{array}

% create "+" rule type for thick vertical lines
\newcolumntype{+}{!{\vrule width 2pt}}

% create \thickcline for thick horizontal lines of variable length
\newlength\savedwidth
\newcommand\thickcline[1]{%
  \noalign{\global\savedwidth\arrayrulewidth\global\arrayrulewidth 2pt}%
  \cline{#1}%
  \noalign{\vskip\arrayrulewidth}%
  \noalign{\global\arrayrulewidth\savedwidth}%
}

% \thickhline command for thick horizontal lines that span the table
\newcommand\thickhline{\noalign{\global\savedwidth\arrayrulewidth\global\arrayrulewidth 2pt}%
\hline
\noalign{\global\arrayrulewidth\savedwidth}}



\usepackage{datatool}
\DTLsetseparator{,}% Set the separator between the columns.
% todo add statistics file directly into this document
\DTLloaddbtex{\mydata}{../../output/statistics.dbtex}
\newcommand{\var}[1]{\DTLfetch{\mydata}{labels}{#1}{vals}}


\begin{document}\begin{table}[hbp!]
%\begin{adjustwidth}{-2.25in}{0in} % Comment out/remove adjustwidth environment if table fits in text column.
\centering
\begin{tabular}[t]{|l|c|c|}
\hline
& \multicolumn{2}{c|}{Participant-visits with missing data (\%)} \\ 
Variable & All (\%) & Viremic \& Processed w\/ PHSC (\%) \\ \thickhline
HIV serostatus & \var{n_participant_finalhiv_orig_missing} (\var{p_participant_finalhiv_orig_missing}\%) & 
  \var{n_seq_viremic_participant_finalhiv_orig_missing} (\var{p_seq_viremic_participant_finalhiv_orig_missing}\%) \\ \hline
Sex & \var{n_participant_sex_missing} (\var{p_participant_sex_missing}\%) & 
  \var{n_seq_viremic_participant_sex_missing} (\var{p_seq_viremic_participant_sex_missing}\%) \\ \hline
Age & \var{n_participant_age_cat_fine_missing} (\var{p_participant_age_cat_fine_missing}\%) & 
  \var{n_seq_viremic_participant_age_cat_fine_missing} (\var{p_seq_viremic_participant_age_cat_fine_missing}\%) \\ \hline
Circumcision & \var{n_participant_male_circumcision_missing} (\var{p_participant_male_circumcision_missing}\%) & 
  \var{n_seq_viremic_participant_male_circumcision_missing} (\var{p_seq_viremic_participant_male_circumcision_missing}\%)\\ \hline
Community type & \var{n_participant_comm_type_missing} (\var{p_participant_comm_type_missing}\%) & 
  \var{n_seq_viremic_participant_comm_type_missing} (\var{p_seq_viremic_participant_comm_type_missing}\%) \\ \hline
Married & \var{n_participant_married_missing} (\var{p_participant_married_missing}\%) & 
  \var{n_seq_viremic_participant_married_missing} (\var{p_seq_viremic_participant_married_missing}\%) \\ \hline
Lifetime sex partners & \var{n_participant_sexpever_missing} (\var{p_participant_sexpever_missing}\%) & 
  \var{n_seq_viremic_participant_sexpever_missing} (\var{p_seq_viremic_participant_sexpever_missing}\%)\\ \hline
In-migrant & \var{n_participant_in_migrant_missing} (\var{p_participant_in_migrant_missing}\%) & 
  \var{n_seq_viremic_participant_in_migrant_missing} (\var{p_seq_viremic_participant_in_migrant_missing}\%) \\ \hline
Sex \& bar/restaurant work & \var{n_participant_barworker_missing} (\var{p_participant_barworker_missing}\%) & 
  \var{n_seq_viremic_participant_barworker_missing} (\var{p_seq_viremic_participant_barworker_missing}\%) \\ \hline
\end{tabular}
\end{table}

\end{document}